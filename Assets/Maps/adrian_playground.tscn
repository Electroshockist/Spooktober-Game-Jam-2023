[gd_scene load_steps=15 format=3 uid="uid://d0apxuy8b62ck"]

[ext_resource type="PackedScene" uid="uid://pk504q3fo0vr" path="res://Assets/Prefabs/UI.tscn" id="1_0mctt"]
[ext_resource type="Texture2D" uid="uid://bddm33c1awcjh" path="res://Assets/Art/Textures/kenney_prototype-textures/PNG/Dark/texture_05.png" id="2_qln6p"]
[ext_resource type="Texture2D" uid="uid://c285jcc35rarw" path="res://Assets/Art/Textures/kenney_prototype-textures/PNG/Red/texture_09.png" id="3_mj2q0"]
[ext_resource type="Texture2D" uid="uid://bqxhbjlyr2ker" path="res://Assets/Art/Textures/kenney_prototype-textures/PNG/Green/texture_08.png" id="4_i3o5i"]
[ext_resource type="Texture2D" uid="uid://bm4jlqtj4rr4s" path="res://Assets/Art/Textures/kenney_prototype-textures/PNG/Orange/texture_08.png" id="5_h6eyd"]
[ext_resource type="PackedScene" uid="uid://mmeolp64ush1" path="res://Assets/Prefabs/test_enemy.tscn" id="6_ewfve"]
[ext_resource type="PackedScene" uid="uid://bcb1f6m8mglob" path="res://Assets/Prefabs/player.tscn" id="7_lwqm6"]

[sub_resource type="NavigationMesh" id="NavigationMesh_11uja"]
vertices = PackedVector3Array(-25.7276, -0.434338, -27.4083, -25.7776, -0.434338, -21.1083, -25.7776, -0.434338, -14.7583, -14.5776, -0.434338, -27.3583, -25.7776, -0.434338, -14.7583, -25.8276, -0.434338, -8.45831, -25.8276, -0.434338, -2.10831, -25.8276, -0.434338, -2.10831, -3.57764, -0.434338, -3.35831, -3.37764, -0.434338, -3.50831, -3.37764, -0.434338, -27.3083, -14.5776, -0.434338, -27.3583, -25.7776, -0.434338, -14.7583, -25.8276, -0.434338, -2.10831, -3.97764, -0.434338, -2.10831, -3.57764, -0.434338, -3.35831, -2.02764, -0.434338, -3.05831, -1.07764, -0.434338, -3.45831, -0.927643, -0.434338, -4.10831, -3.37764, -0.434338, -3.50831, -3.37764, -0.434338, -3.50831, -0.927643, -0.434338, -4.10831, -0.677643, -0.434338, -4.30831, -0.677643, -0.434338, -27.3083, -3.37764, -0.434338, -27.3083, 0.0223579, -0.434338, -3.65831, 3.57236, -0.434338, -2.40831, 3.72236, -0.434338, -2.40831, 0.0223579, -0.434338, -4.05831, 0.0223579, -0.434338, -4.05831, 3.72236, -0.434338, -2.40831, 3.72236, -0.434338, -27.3083, -0.677643, -0.434338, -27.3083, -0.677643, -0.434338, -27.3083, -0.677643, -0.434338, -4.30831, 0.0223579, -0.434338, -4.05831, 24.0724, -0.434338, -20.3583, 24.1224, -0.434338, -27.2083, 13.9224, -0.434338, -27.2583, 24.0224, -0.434338, -6.65831, 24.0724, -0.434338, -13.5083, 24.0724, -0.434338, -20.3583, 9.72236, -0.434338, -0.0583057, 9.92236, -0.434338, 0.191694, 24.0224, -0.434338, 0.191694, 24.0224, -0.434338, -6.65831, 3.72236, -0.434338, -2.40831, 9.72236, -0.434338, -0.0583057, 24.0224, -0.434338, -6.65831, 24.0724, -0.434338, -20.3583, 13.9224, -0.434338, -27.2583, 3.72236, -0.434338, -27.3083, -0.827642, 0.265662, -3.50831, -0.327642, 0.265662, -3.35831, -0.177643, 0.265662, -3.70831, -0.177643, 0.265662, -3.90831, -0.677643, 0.265662, -4.05831, -0.877644, 0.265662, -3.60831, -0.677643, -0.434338, -3.95831, -0.777643, -0.434338, -3.70831, -0.777643, -0.434338, -3.55831, -0.377644, -0.434338, -3.45831, -0.227642, -0.434338, -3.75831, -0.227642, -0.434338, -3.85831, 3.52236, -0.434338, -2.40831, 3.57236, -0.434338, -2.40831, 0.0223579, -0.434338, -3.65831, -0.277643, -0.434338, -3.10831, -1.07764, -0.434338, -3.45831, -2.02764, -0.434338, -3.05831, -1.92764, -0.434338, -3.00831, -0.927643, -0.434338, -3.30831, -1.07764, -0.434338, -3.45831, -1.92764, -0.434338, -3.00831, -1.92764, -0.434338, -2.75831, -2.37764, -0.434338, -1.50831, -2.47764, -0.434338, -1.45831, -0.627644, -0.434338, -0.308306, -0.577642, -0.434338, -0.408306, -0.327642, -0.434338, -3.10831, -0.927643, -0.434338, -3.30831, -1.92764, -0.434338, -2.75831, -2.37764, -0.434338, -1.50831, -0.577642, -0.434338, -0.408306, -0.327642, -0.434338, -0.408306, -3.37764, 0.965662, -3.25831, -3.72764, 0.965662, -2.25831, -3.72764, 0.965662, -2.05831, -2.57764, 0.965662, -1.65831, -2.17764, 0.965662, -2.75831, -2.22764, 0.965662, -2.90831, -3.67764, -0.434338, -2.20831, -3.67764, -0.434338, -2.10831, -2.62764, -0.434338, -1.75831, -2.27764, -0.434338, -2.65831, -2.27764, -0.434338, -2.85831, -3.32764, -0.434338, -3.20831, 2.67236, -0.334338, -1.50831, 3.52236, -0.184338, -2.25831, 3.52236, -0.434338, -2.40831, 3.35236, -0.234338, -2.22831, -0.277643, -0.434338, -3.10831, -0.327642, -0.434338, -3.10831, -0.327642, -0.434338, -0.408306, 0.522358, -0.434338, -0.408306, 2.67236, -0.334338, -1.50831, 3.52236, -0.434338, -2.40831, 2.19458, -0.434338, -1.26386, 3.35236, -0.234338, -2.22831, 3.52236, -0.184338, -2.25831, 2.67236, -0.334338, -1.50831, 2.42236, -0.184338, 0.741693, 8.87236, 1.61566, 3.29169, 9.97236, 1.61566, 0.591694, 10.0224, 1.61566, 0.291695, -0.627644, -0.434338, -0.308306, -2.47764, -0.434338, -1.45831, -2.72764, -0.434338, -1.45831, -0.627644, -0.434338, 0.791695, -0.627644, -0.434338, -0.308306, -2.72764, -0.434338, -1.45831, -3.82764, -0.434338, -1.85831, -3.97764, -0.434338, -1.95831, -3.97764, -0.434338, -2.10831, -25.8276, -0.434338, -2.10831, -0.627644, -0.434338, 0.791695, -3.82764, -0.434338, -1.85831, -3.97764, -0.434338, -1.95831, -25.9276, -0.434338, 11.5417, -25.8776, -0.434338, 22.4417, -19.4276, -0.434338, 22.4417, -25.8776, -0.434338, 4.74169, -19.4276, -0.434338, 22.4417, -13.0276, -0.434338, 22.4917, -6.57764, -0.434338, 22.4917, -3.97764, -0.434338, -1.95831, -25.8276, -0.434338, -2.10831, -25.8776, -0.434338, 4.74169, -19.4276, -0.434338, 22.4417, -6.57764, -0.434338, 22.4917, -0.627644, -0.434338, 0.791695, -0.177643, -0.434338, 22.5417, -0.177643, -0.434338, 0.841694, -0.627644, -0.434338, 0.791695, -6.57764, -0.434338, 22.4917, 4.72236, -0.434338, -1.65831, 3.62236, -0.434338, 1.04169, 3.62236, -0.434338, 1.19169, 6.92236, -0.384338, 2.44169, 8.07236, -0.334338, -0.308306, 7.92236, -0.384338, -0.458305, 7.26743, -0.434338, 0.092617, 0.622356, -0.434338, 0.741693, 2.27236, -0.234338, 0.791695, 2.42236, -0.184338, 0.741693, 2.67236, -0.334338, -1.50831, 0.622356, -0.434338, -0.358307, 1.99736, -0.434338, 0.783361, 2.15986, -0.434338, -1.22081, 1.57237, -0.434338, 0.0876808, 0.522358, -0.434338, -0.408306, 0.622356, -0.434338, -0.358307, 2.67236, -0.334338, -1.50831, 2.19458, -0.434338, -1.26386, 2.15986, -0.434338, -1.22081, -0.427643, 0.565662, -0.208305, -0.427643, 0.565662, 0.641693, 0.422358, 0.565662, 0.641693, 0.422358, 0.565662, -0.208305, -0.377644, -0.434338, -0.158306, -0.377644, -0.434338, 0.591694, 0.372356, -0.434338, 0.591694, 0.372356, -0.434338, -0.158306, 16.2724, -0.434338, 22.5917, 23.9224, -0.434338, 22.5917, 23.9724, -0.434338, 11.3917, 24.0224, -0.434338, 0.191694, 9.92236, -0.434338, 0.191694, 8.82236, -0.434338, 3.09169, 24.0224, -0.434338, 0.191694, 8.82236, -0.434338, 3.09169, 8.62236, -0.434338, 3.39169, 23.9724, -0.434338, 11.3917, 23.9724, -0.434338, 11.3917, 8.62236, -0.434338, 3.39169, 8.52236, -0.434338, 3.39169, 8.52236, -0.434338, 22.5917, 16.2724, -0.434338, 22.5917, 2.27236, -0.434338, 0.941694, 2.27236, -0.234338, 0.791695, 0.622356, -0.434338, 0.741693, 1.99736, -0.434338, 0.783361, 2.27236, -0.434338, 0.941694, 0.622356, -0.434338, 0.741693, 0.572357, -0.434338, 0.841694, 2.47236, -0.434338, 1.04169, 2.47236, -0.434338, 1.04169, 0.572357, -0.434338, 0.841694, 0.172358, -0.434338, 0.841694, 0.172358, -0.434338, 22.5417, 8.52236, -0.434338, 22.5917, 8.52236, -0.434338, 3.39169, 4.27247, -0.284338, 2.49558, 3.97655, -0.434338, 3.0959, 4.27355, -0.284338, 3.08809, 4.2706, -0.434338, 3.39424, 4.86755, -0.434338, 3.09249, 3.97443, -0.434338, 2.19481, 5.47551, -0.434338, 2.78733, 4.56947, -0.284338, 2.48778, 4.57055, -0.284338, 3.09029, 4.27143, -0.434338, 2.18701, 4.87151, -0.434338, 2.79293, -0.177643, -0.434338, 22.5417, 0.172358, -0.434338, 22.5417, 0.172358, -0.434338, 0.841694, -0.177643, -0.434338, 0.841694)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 12), PackedInt32Array(9, 12, 11), PackedInt32Array(9, 11, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(23, 20, 24), PackedInt32Array(26, 25, 27), PackedInt32Array(27, 25, 28), PackedInt32Array(32, 31, 29), PackedInt32Array(29, 31, 30), PackedInt32Array(35, 34, 33), PackedInt32Array(38, 37, 36), PackedInt32Array(39, 41, 40), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(47, 46, 48), PackedInt32Array(48, 46, 49), PackedInt32Array(49, 46, 50), PackedInt32Array(50, 46, 51), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 52), PackedInt32Array(55, 52, 57), PackedInt32Array(55, 57, 56), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 62), PackedInt32Array(62, 58, 63), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(70, 69, 68), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(80, 79, 81), PackedInt32Array(81, 79, 82), PackedInt32Array(82, 79, 83), PackedInt32Array(83, 79, 84), PackedInt32Array(86, 85, 87), PackedInt32Array(87, 85, 90), PackedInt32Array(87, 90, 89), PackedInt32Array(87, 89, 88), PackedInt32Array(91, 96, 92), PackedInt32Array(92, 96, 95), PackedInt32Array(92, 95, 94), PackedInt32Array(92, 94, 93), PackedInt32Array(99, 98, 100), PackedInt32Array(100, 98, 97), PackedInt32Array(105, 107, 108), PackedInt32Array(108, 107, 106), PackedInt32Array(106, 107, 104), PackedInt32Array(106, 104, 103), PackedInt32Array(106, 103, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(113, 112, 114), PackedInt32Array(114, 112, 111), PackedInt32Array(114, 111, 110), PackedInt32Array(114, 110, 109), PackedInt32Array(117, 116, 115), PackedInt32Array(119, 118, 120), PackedInt32Array(120, 118, 121), PackedInt32Array(124, 123, 122), PackedInt32Array(127, 126, 125), PackedInt32Array(129, 128, 130), PackedInt32Array(130, 128, 131), PackedInt32Array(134, 133, 132), PackedInt32Array(137, 136, 138), PackedInt32Array(138, 136, 139), PackedInt32Array(139, 136, 135), PackedInt32Array(139, 135, 140), PackedInt32Array(142, 141, 143), PackedInt32Array(143, 141, 144), PackedInt32Array(149, 151, 150), PackedInt32Array(150, 151, 145), PackedInt32Array(145, 151, 146), PackedInt32Array(146, 148, 147), PackedInt32Array(148, 151, 149), PackedInt32Array(151, 148, 146), PackedInt32Array(158, 159, 156), PackedInt32Array(156, 159, 152), PackedInt32Array(152, 159, 157), PackedInt32Array(157, 159, 153), PackedInt32Array(153, 159, 154), PackedInt32Array(154, 158, 155), PackedInt32Array(158, 154, 159), PackedInt32Array(162, 164, 163), PackedInt32Array(163, 164, 161), PackedInt32Array(163, 161, 160), PackedInt32Array(168, 167, 165), PackedInt32Array(165, 167, 166), PackedInt32Array(172, 171, 169), PackedInt32Array(169, 171, 170), PackedInt32Array(173, 175, 174), PackedInt32Array(176, 178, 177), PackedInt32Array(180, 179, 181), PackedInt32Array(181, 179, 182), PackedInt32Array(184, 183, 185), PackedInt32Array(185, 183, 187), PackedInt32Array(185, 187, 186), PackedInt32Array(189, 188, 191), PackedInt32Array(191, 188, 190), PackedInt32Array(193, 192, 194), PackedInt32Array(194, 192, 195), PackedInt32Array(200, 205, 201), PackedInt32Array(201, 211, 196), PackedInt32Array(196, 203, 197), PackedInt32Array(197, 203, 198), PackedInt32Array(198, 205, 199), PackedInt32Array(199, 205, 200), PackedInt32Array(205, 206, 201), PackedInt32Array(211, 207, 196), PackedInt32Array(201, 208, 211), PackedInt32Array(196, 207, 203), PackedInt32Array(203, 205, 198), PackedInt32Array(206, 208, 201), PackedInt32Array(205, 210, 206), PackedInt32Array(211, 202, 207), PackedInt32Array(208, 209, 211), PackedInt32Array(207, 202, 203), PackedInt32Array(203, 204, 205), PackedInt32Array(206, 212, 208), PackedInt32Array(210, 212, 206), PackedInt32Array(205, 204, 210), PackedInt32Array(211, 209, 202), PackedInt32Array(208, 212, 209), PackedInt32Array(202, 204, 203), PackedInt32Array(210, 209, 212), PackedInt32Array(204, 202, 210), PackedInt32Array(209, 210, 202), PackedInt32Array(216, 215, 213), PackedInt32Array(213, 215, 214)]
cell_size = 0.05
cell_height = 0.05
agent_height = 0.5
agent_radius = 0.1
agent_max_climb = 0.2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qqnbp"]
albedo_texture = ExtResource("2_qln6p")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="BoxShape3D" id="BoxShape3D_jeu35"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_skf78"]
albedo_texture = ExtResource("3_mj2q0")
uv1_triplanar = true

[sub_resource type="BoxShape3D" id="BoxShape3D_fgebn"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lsy1i"]
albedo_texture = ExtResource("4_i3o5i")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h1hr8"]
albedo_texture = ExtResource("5_h6eyd")
uv1_triplanar = true

[node name="Node3D" type="Node3D"]

[node name="UI" parent="." instance=ExtResource("1_0mctt")]

[node name="Map" type="Node3D" parent="."]

[node name="Navigable Meshes" type="NavigationRegion3D" parent="Map"]
transform = Transform3D(0.0155281, 0, -3.3958, 0, 3.39585, 0, 3.3958, 0, 0.0155281, -8.11616, 1.69792, 3.1395)
navigation_mesh = SubResource("NavigationMesh_11uja")

[node name="Floor2" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(0.228634, 0, 49.9995, 0, 0.25, 0, -49.9995, 0, 0.228634, -0.913576, -0.647238, -2.39424)
material_override = SubResource("StandardMaterial3D_qqnbp")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/Floor2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/Floor2/StaticBody3D"]
shape = SubResource("BoxShape3D_jeu35")

[node name="CSGBox3D" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(-0.669839, 0, 0.258872, 0, 0.718118, 0, -0.258872, 0, -0.669839, -0.510674, -0.16318, -3.71271)
material_override = SubResource("StandardMaterial3D_skf78")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/CSGBox3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/CSGBox3D/StaticBody3D"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 0, 1.3411e-06, 0)
shape = SubResource("BoxShape3D_fgebn")

[node name="CSGBox3D2" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(0.469348, 0, 1.33197, 0, 1.41224, 0, -1.33197, 0, 0.469348, -2.96049, 0.183882, -2.47367)
material_override = SubResource("StandardMaterial3D_lsy1i")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/CSGBox3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/CSGBox3D2/StaticBody3D"]
shape = SubResource("BoxShape3D_fgebn")

[node name="CSGBox3D3" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(1, 0, -1.86265e-09, 0, 1, 0, 1.86265e-09, 0, 1, -5.96046e-08, -0.0222385, 0.213962)
material_override = SubResource("StandardMaterial3D_h1hr8")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/CSGBox3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/CSGBox3D3/StaticBody3D"]
shape = SubResource("BoxShape3D_fgebn")

[node name="CSGBox3D5" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(-0.669838, 0, 0.258872, 0, 0.718117, 0, -0.258872, 0, -0.669838, 4.45695, -0.736691, 2.82902)
material_override = SubResource("StandardMaterial3D_skf78")
operation = 2

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/CSGBox3D5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/CSGBox3D5/StaticBody3D"]
shape = SubResource("BoxShape3D_fgebn")

[node name="CSGBox3D4" type="CSGBox3D" parent="Map/Navigable Meshes"]
transform = Transform3D(-1.23057, -0.321746, -7.66331, 0.0076697, 1.34222, -2.13064, 3.11479, -0.130418, -3.02232, 5.86192, -0.194073, 0.399088)
material_override = SubResource("StandardMaterial3D_h1hr8")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Navigable Meshes/CSGBox3D4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Navigable Meshes/CSGBox3D4/StaticBody3D"]
shape = SubResource("BoxShape3D_fgebn")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Map"]
transform = Transform3D(-0.933315, 0.226243, -0.278815, -0.0337595, 0.717783, 0.695448, 0.357469, 0.658484, -0.66228, 0, 15, 0)
shadow_enabled = true

[node name="Entities" type="Node3D" parent="."]

[node name="Test_Enemy" parent="Entities" instance=ExtResource("6_ewfve")]
transform = Transform3D(-0.512268, 0, -0.858826, 0, 1, 0, 0.858826, 0, -0.512268, 4.27711, 0.924478, 7.02815)

[node name="Test_Enemy2" parent="Entities" instance=ExtResource("6_ewfve")]
transform = Transform3D(-0.512268, 0, -0.858826, 0, 1, 0, 0.858826, 0, -0.512268, -10.9716, 0.924478, -2.22646)

[node name="Test_Enemy3" parent="Entities" instance=ExtResource("6_ewfve")]
transform = Transform3D(-0.512268, 0, -0.858826, 0, 1, 0, 0.858826, 0, -0.512268, -14.1063, 0.924478, 15.7944)

[node name="Player" parent="Entities" instance=ExtResource("7_lwqm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.924478, 0)
jump_force = 25.0
gravity_scale = 0.1
